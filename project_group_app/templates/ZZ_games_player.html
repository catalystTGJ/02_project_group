<!-- chat/templates/chat/index.html -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Game-Player Chat Pick</title>
</head>
<body>
    What game-player chat would you like to enter?<br>

    <select id="game-player-input" name="game-player-input" class="form-control">
        {% if games %}
            <option value=0>Select a game-player here</option>
            {% for game_player in games %}
                    <option value="{{game_player}}">{{game_player}}</option>
            {% endfor %}
        {% else %}
            <option value=0>No game-player to Select</option>
        {% endif %}
    </select>
    <br>
    <input id="game-player-submit" type="button" value="Enter">

    <script>
        document.querySelector('#game-player-input').focus();
        document.querySelector('#game-player-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#game-player-submit').click();
            }
        };

        document.querySelector('#game-player-submit').onclick = function(e) {
            var gamePlayer = document.querySelector('#game-player-input').value;
            if (gamePlayer != 0) {
                window.location.pathname = '/games-chat/' + gamePlayer + '/';
            }
        };
    </script>
</body>
</html>